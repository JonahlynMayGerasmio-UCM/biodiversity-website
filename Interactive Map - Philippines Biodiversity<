<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Interactive Map - Philippines Biodiversity</title>

<style>
:root{
    --green:#0d5e3d;
    --overlay: rgba(0,0,0,0.35);
}
body{
    margin:0;
    font-family: Arial, Helvetica, sans-serif;
    color:white;
}

/* Header */
header{
    color:black;
    padding:24px 12px;
    text-align:center;
    font-size:22px;
    font-weight:700;
    text-shadow: 1px 1px 2px rgba(255,255,255,0.5);
}

/* Main Row */
#mainRow{
    width:92%;
    max-width:1200px;
    margin:28px auto;
    display:flex;
    gap:20px;
    align-items:flex-start;
    justify-content:center;
    padding:20px;
    border-radius:10px;
    box-shadow:0 6px 20px rgba(0,0,0,0.2);
}
#mapColumn{
    width:60%;
    text-align:center;
    border-radius:8px;
    color:white;
}

/* Mini Map */
#miniMap {
    display:inline-block;
    position:relative;
    border:3px solid var(--green);
    border-radius:8px;
    padding:8px;
    cursor:pointer;
    background: white;
    transform: scale(0.7);
    transform-origin: top left;
    margin-left:auto;
    margin-right:auto;
}
#miniMap img{
    display:block;
    width:580px;
    height:auto;
}
.pin{
    width:12px;
    height:12px;
    background:#27ae60;
    border-radius:50%;
    position:absolute;
    border:2px solid white;
    box-shadow:0 2px 6px rgba(0,0,0,0.25);
    cursor:pointer;
}

/* Species Box and Info Box */
#speciesBox, #infoBox{
    width:540%;
    padding:10px;
    border-radius:10px;
    box-shadow:0 5px 15px rgba(0,0,0,0.06);
    margin-top:25px;
    background: rgba(255,255,255,0.25);
    color:#121111;
    opacity:0;
    transform: translateY(40px);
    transition: opacity 0.8s ease-out, transform 0.8s ease-out;
    backdrop-filter: blur(5px);
}
#speciesBox.visible, #infoBox.visible{
    opacity:1;
    transform: translateY(0);
}
#speciesBox h2, #infoBox h2{ text-align:center; margin-bottom:11px; }

/* Species cards */
.species-card {
    border:1px solid var(--green);
    background:white;
    padding:9px;
    border-radius:7px;
    margin-bottom:9px;
    cursor:pointer;
    color:#121111;
    display:flex;
    align-items:center;
    gap:10px;
}
.species-card img {
    width:50px;
    height:50px;
    object-fit:cover;
    border-radius:5px;
}
.species-card:hover { background: #f0f0f0; }

/* Popups */
#speciesPopup, #pinPopup{
    display:none;
    position:fixed;
    left:50%;
    transform:translateX(-50%);
    top:99px;
    width:310px;
    background:white;
    border-radius:10px;
    padding:12px;
    box-shadow:0 10px 30px rgba(0,0,0,0.25);
    z-index:2200;
}
#speciesPopup .close, #pinPopup .popup-close{
    float:right;
    cursor:pointer;
    font-weight:bold;
}

/* Map Modal */
#mapModal{
    display:none;
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.65);
    align-items:center;
    justify-content:center;
    z-index:100;
}
#mapModal .panel{
    width:80%;
    max-width:450px;
    background:white;
    border-radius:7px;
    padding:7px;
    position:relative;
    margin-left:auto;
    margin-right:auto;
}
#mapModal .panel img{
    width:99%;
    height:auto;
    display:block;
    border-radius:5px;
}
.closeMapBtn{
    position:absolute;
    right:14px;
    top:10px;
    background:white;
    border:1px solid #ccc;
    padding:6px 14px;
    border-radius:5px;
    cursor:pointer;
    font-size:20px;
}
#mapModal .pin{
    width:10px;
    height:10px;
    background:#27ae60;
    border-radius:50%;
    border:2px solid white;
    box-shadow:0 2px 6px rgba(0,0,0,0.3);
    position:absolute;
    cursor:pointer;
}

/* FOOTER FIX — BLACK TEXT */
footer{
    color:black !important;
    text-align:center;
    padding:14px 8px;
    margin-top:20px;
    font-weight:600;
}

.muted{ color:#000 !important; font-size:13px; }

/* Background Video */
#bgVideo{
    position:fixed;
    right:0;
    bottom:0;
    min-width:100%;
    min-height:100%;
    z-index:-1;
    object-fit:cover;
}

/* Make all popup text black */
#pinPopup, #speciesPopup,
#pinPopup h3, #speciesPopup h3,
#pinSci, #specFacts,
#infoBox, #speciesBox,
#moreText, #moreTitle {
    color:#000 !important;
}
</style>
</head>
<body>

<!-- Background Video -->
<video autoplay muted loop id="bgVideo">
    <source src="https://v1.pinimg.com/videos/mc/720p/3f/cb/d1/3fcbd1034b3694f65a786b6049c1628f.mp4" type="video/mp4">
</video>

<header>Interactive Map of the Philippines — Biodiversity Hotspot</header>

<div id="mainRow">
    <section id="mapColumn">
        <div id="miniMap">
            <img src="https://i.pinimg.com/1200x/3d/9a/ce/3d9acebd20014ebb83381ade09ce31db.jpg">
            
            <!-- MINI MAP PINS -->
            <div class="pin" style="top:66%; left:70%;" 
                 onclick="openPinPopup('Bohol','Carlito syrichta','https://i.pinimg.com/1200x/71/76/10/717610d77acf56a483217a680a8e3d31.jpg')"></div>
            <div class="pin" style="top:50%; left:38%;" 
                 onclick="openPinPopup('Mindoro','Bubalus mindorensis','https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Bubalus_mindorensis_by_Gregg_Yan_01.jpg/1200px-Bubalus_mindorensis_by_Gregg_Yan_01.jpg')"></div>
            <div class="pin" style="top:89%; left:80%;" 
                 onclick="openPinPopup('Davao Oriental Crocodile','Crocodylus porosus','https://tourism.davaocity.gov.ph/wp-content/uploads/2018/10/Davao-Crocodile-Park-2.jpg')"></div>
            <div class="pin" style="top:66%; left:64%;" 
                 onclick="openPinPopup('Cebu','Rhincodon typus','https://t4.ftcdn.net/jpg/12/60/97/01/360_F_1260970160_MoxwoUGbPsFC2rPVxD3nTqHZKInwhRHU.jpg')"></div>
            <div class="pin" style="top:25%; left:36%;" 
                 onclick="openPinPopup('Baguio','Viverra tangalunga','https://upload.wikimedia.org/wikipedia/commons/5/56/Malay_civet.jpg')"></div>
            <div class="pin" style="top:68%; left:19%;" 
                 onclick="openPinPopup('Palawan','Polyplectron napoleonis','https://static.inaturalist.org/photos/45924388/large.jpg')"></div>
            <div class="pin" style="top:85%; left:85%;" 
                 onclick="openPinPopup('Davao','Pithecophaga jefferyi','https://www.discoverthephilippines.com/wp-content/uploads/2023/07/philippine-eagle.jpg')"></div>
            <div class="pin" style="top:59%; left:75%;" 
                 onclick="openPinPopup('Leyte','Sus cebifrons','https://i.pinimg.com/736x/fd/aa/da/fdaadafdcb0f140c1439525d69cb4db4.jpg')"></div>
            <div class="pin" style="top:72%; left:85%;" 
                 onclick="openPinPopup('Siargao','Birgus latro','https://upload.wikimedia.org/wikipedia/commons/0/0a/Coconut_Crab_Birgus_latro.jpg')"></div>
        </div>
    </section>
</div>

<div style="display:flex; width:92%; max-width:1200px; margin:0 auto; gap:20px;">
    <aside id="speciesBox">
        <h2>Species Profile</h2>
        <div class="species-card" onclick="openSpeciesCard('Land','Philippine Tarsier','World’s smallest primate','Nocturnal, large eyes')">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/36/Philippine_Tarsier.jpg/960px-Philippine_Tarsier.jpg">
            Land
        </div>
        <div class="species-card" onclick="openSpeciesCard('Water','Tamaraw','Endemic dwarf buffalo','Critically Endangered')">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Bubalus_mindorensis_by_Gregg_Yan_01.jpg/1200px-Bubalus_mindorensis_by_Gregg_Yan_01.jpg">
            Water
        </div>
        <div class="species-card" onclick="openSpeciesCard('Air','Philippine Eagle','Pithecophaga jefferyi','Critically Endangered')">
            <img src="https://www.discoverthephilippines.com/wp-content/uploads/2023/07/philippine-eagle.jpg">
            Air
        </div>
        <div class="species-card" onclick="openSpeciesCard('Coral','Coral Reef','Supports marine species','Biodiversity hotspot')">
            <img src="https://i.pinimg.com/1200x/db/15/31/db15317d845dbe9a819f098a5b3a5bca.jpg">
            Coral
        </div>
    </aside>    

    <aside id="infoBox">
        <h2>Information</h2>
        <div id="moreContent">
            <h3 id="moreTitle">Select a pin</h3>
            <p id="moreText">Information will appear here.</p>
        </div>
    </aside>
</div>

<!-- Species Popup -->
<div id="speciesPopup">
    <span class="close" onclick="closeSpecies()">✖</span>
    <h3 id="specName"></h3>
    <div id="specFacts" class="muted"></div>
</div>

<!-- Pin Popup -->
<div id="pinPopup">
    <span class="popup-close" onclick="closePinPopup()">✖</span>
    <h3 id="pinTitle"></h3>
    <img id="pinImage" style="width:100%; height:150px; object-fit:cover; border-radius:6px; margin-bottom:8px;">
    <p id="pinSci" class="muted"></p>
    <a id="discoverLink" style="cursor:pointer; color:var(--green);">Discover More →</a>
</div>

<!-- LARGE MAP MODAL -->
<div id="mapModal">
    <div class="panel">
        <button class="closeMapBtn" onclick="closeMapModal()">✖</button>
        <div style="position:relative;">
            <img src="https://i.pinimg.com/1200x/3d/9a/ce/3d9acebd20014ebb83381ade09ce31db.jpg">
            
            <!-- LARGE MAP PINS (same data) -->
            <div class="pin" style="top:67%; left:70%;" onclick="openPinPopup('Bohol','Carlito syrichta','https://upload.wikimedia.org/wikipedia/commons/thumb/3/36/Philippine_Tarsier.jpg/960px-Philippine_Tarsier.jpg')"></div>
            <div class="pin" style="top:50%; left:38%;" onclick="openPinPopup('Mindoro','Bubalus mindorensis','https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Bubalus_mindorensis_by_Gregg_Yan_01.jpg/1200px-Bubalus_mindorensis_by_Gregg_Yan_01.jpg')"></div>
            <div class="pin" style="top:89%; left:80%;" onclick="openPinPopup('Davao Oriental Crocodile','Crocodylus porosus','https://tourism.davaocity.gov.ph/wp-content/uploads/2018/10/Davao-Crocodile-Park-2.jpg')"></div>
            <div class="pin" style="top:66%; left:64%;" onclick="openPinPopup('Cebu','Rhincodon typus','https://t4.ftcdn.net/jpg/12/60/97/01/360_F_1260970160_MoxwoUGbPsFC2rPVxD3nTqHZKInwhRHU.jpg')"></div>
            <div class="pin" style="top:25%; left:36%;" onclick="openPinPopup('Baguio','Viverra tangalunga','https://i.pinimg.com/736x/0b/cf/1d/0bcf1d41c5342efb64b40ca9ddd629fb.jpg')"></div>
            <div class="pin" style="top:69%; left:19%;" onclick="openPinPopup('Palawan','Polyplectron napoleonis','https://i.pinimg.com/736x/40/44/72/404472a3502bf623f5b1fc03ffafdb63.jpg')"></div>
            <div class="pin" style="top:85%; left:85%;" onclick="openPinPopup('Davao','Pithecophaga jefferyi','https://www.discoverthephilippines.com/wp-content/uploads/2023/07/philippine-eagle.jpg')"></div>
            <div class="pin" style="top:60%; left:75%;" onclick="openPinPopup('Leyte','Sus cebifrons','https://i.pinimg.com/1200x/1c/9f/03/1c9f03c5e56b14bb5f11dbcbc9af5d53.jpg')"></div>
            <div class="pin" style="top:72%; left:85%;" onclick="openPinPopup('Siargao','Birgus latro','https://observation.org/media/photo/4969385.jpg')"></div>
        </div>
    </div>
</div>

<footer>© 2025 Philippines Biodiversity Interactive Map</footer>

<script>
/* Species Popup */
function openSpeciesCard(name,f1,f2,f3){
    const habitatData = {
        "Land": { img:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/36/Philippine_Tarsier.jpg/960px-Philippine_Tarsier.jpg", desc:"Land species like the Philippine tarsier are small primates living in forested areas." },
        "Water": { img:"https://t4.ftcdn.net/jpg/06/07/03/47/360_F_607034749_oJCGb48U3w56HRamzArOxWtRoVEOraWk.jpg", desc:"The Tamaraw is a critically endangered dwarf buffalo endemic to Mindoro Island." },
        "Air": { img:"https://www.discoverthephilippines.com/wp-content/uploads/2023/07/philippine-eagle.jpg", desc:"Air species include birds like the Philippine Eagle that soar above forests." },
        "Coral": { img:"https://i.pinimg.com/736x/e0/8a/f7/e08af71c7545109a8c87a23f663d1cfa.jpg", desc:"Coral species form reefs that host thousands of marine creatures." }
    };
    document.getElementById('specName').textContent = name;
    let extra = habitatData[name] ? 
        `<br><img src="${habitatData[name].img}" style="width:100%; height:150px; object-fit:cover; border-radius:6px; margin-top:10px;">
        <p style="margin-top:8px;">${habitatData[name].desc}</p>` : "";
    document.getElementById('specFacts').innerHTML = "• "+f1+"<br>• "+f2+"<br>• "+f3 + extra;
    document.getElementById('speciesPopup').style.display = 'block';
}
function closeSpecies(){ document.getElementById('speciesPopup').style.display = 'none'; }

/* Pin Popup */
function openPinPopup(title,sci,img){
    document.getElementById('pinTitle').textContent = title;
    document.getElementById('pinSci').textContent = sci;
    document.getElementById('pinImage').src = img;

    document.getElementById('discoverLink').onclick = function(){

        const info = {
            "Baguio": "The Viverra tangalunga (Malay civet) is a native of the Philippines, but it is not commonly found in Baguio City itself. It prefers to live in a wider variety of habitats across the country, including forests, secondary forests, and cultivated areas, but it has a wide range and tolerance for degraded habitats. The civet is a nocturnal, solitary, and omnivorous animal with a distinctive grayish coat and black spots. ",
            "Cebu": "Rhincodon typus, or whale sharks, are a well-known marine species in Cebu, particularly in Oslob, where they are fed by local fishermen, making them a year-round tourist attraction. Visitors can swim with these gentle giants, who are the largest fish in the world and feed on plankton and small fish. The practice of feeding the whale sharks, however, is controversial, with some critics arguing that it disrupts their natural migratory patterns, while others point to the economic benefits for locals that have replaced destructive fishing practices.",

            "Leyte": "The term Sus cebifrons leyte likely refers to the Visayan warty pig (Sus cebifrons) on Leyte, but the pig is actually endemic to the islands of Negros and Panay, not Leyte. The Cebu warty pig (\(Sus\ cebifrons\ cebifrons\)) is an extinct subspecies from Cebu, while the broader species (\(Sus\ cebifrons\)) is critically endangered due to habitat loss and hunting. Key characteristics include a mohawk mane in males and facial warts, and they are considered vital to their forest environment.",

            "Siargao": "The coconut crab (Birgus latro) is the largest land-dwelling arthropod in the world, and while it is found on islands in the Pacific and Indian Oceans, there are no specific records of it being present or observed in Siargao, Philippines. Coconut crabs are nocturnal, weigh up to 9 pounds, and can live over 60 years. They are vulnerable due to habitat loss and overhunting, with conservation efforts including bans on catching egg-bearing females.",

            "Palawan": "The Palawan peacock-pheasant (Polyplectron napoleonis), locally known as the tandikan, is a stunning bird endemic to the island of Palawan in the Philippines. Its vibrant, iridescent plumage, particularly the male's striking blue-green eyes (ocelli) on its tail and wings, has led to its use as a motif in bohemian (boho) art and decor.",

            "Mindoro": "The tamaraw (\(Bubalus\) \(mindorensis\)) is a critically endangered dwarf buffalo that is endemic to the Philippine island of Mindoro. As the Philippines' largest and rarest land mammal, it faces threats from habitat loss and illegal hunting, which has severely reduced its population from an estimated 10,000 in the early 1900s to a few hundred individuals. Conservation efforts include patrolling protected areas and working with local communities to manage and protect the tamaraw's habitat.",
            "Davao": "Pithecophaga jefferyi is the Philippine Eagle, the national bird of the Philippines, known for its large size, distinctive shaggy crest, and powerful beak. The eagle is endemic to the Philippines, with a significant history and presence in Davao, Mindanao, evidenced by the Philippine Eagle Center in Davao City. The species is critically endangered due to deforestation and hunting, making conservation efforts in areas like Davao crucial. ",
            "Davao Oriental Crocodile": "While saltwater crocodiles (\(Crocodylus\) \(porosus\)) have been documented in the Philippines, including Mindanao, the term Davao Orientallikely refers to the Davao Crocodile Park, which is not a wild habitat but a tourist and conservation facility. There is no indication that \(Crocodylus\) \(porosus\) is found naturally in large populations in this specific region, although they are considered critically endangered and exist in scattered groups throughout the country.",

            "Bohol": "The Philippine tarsier is a small primate native to Bohol, known for its large eyes and nocturnal habits. These threatened animals are difficult to spot due to their size (4-5 inches) and preference for dense secondary forests. Key facts include their ability to rotate their heads 180 degrees, a diet of insects and small animals, and their sensitivity to noise and human touch. "
        };

        document.getElementById('moreTitle').textContent = title;
        document.getElementById('moreText').innerHTML =
            "<strong>Scientific Name:</strong> " + sci +
            "<br><br><em>" + (info[title] || "Information about " + title) + "</em>";

        document.getElementById('infoBox').scrollIntoView({behavior:'smooth'});
        closePinPopup();
    };

    document.getElementById('pinPopup').style.display = 'block';
}

function closePinPopup(){ document.getElementById('pinPopup').style.display = 'none'; }

/* Map Modal */
document.getElementById('miniMap').addEventListener("click", function(e){
    if(e.target === this || e.target.tagName === "IMG"){ openMapModal(); }
});
function openMapModal(){ document.getElementById('mapModal').style.display = 'flex'; }
function closeMapModal(){ document.getElementById('mapModal').style.display = 'none'; }
document.getElementById("mapModal").addEventListener("click", function(e){ 
    if(e.target === this) closeMapModal(); 
});

/* Scroll Animation */
function handleScrollAnimation(){
    const boxes = [document.getElementById('speciesBox'), document.getElementById('infoBox')];
    boxes.forEach(box => {
        const rect = box.getBoundingClientRect();
        if(rect.top < window.innerHeight - 50){ box.classList.add('visible'); }
    });
}
window.addEventListener('scroll', handleScrollAnimation);
window.addEventListener('load', handleScrollAnimation);
</script>

</body>
</html>
